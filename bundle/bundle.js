!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();t.exports=function(){function t(t){return Object.prototype.toString.call(t).slice(8,-1)}var e=function(t){return new i(t.nodeName?[t]:document.querySelectorAll(t))},i=function(){function i(t){n(this,i),this.DOM=t}return s(i,[{key:"addClass",value:function(i){return"String"==t(i)&&""!=i?this.each(function(){var t=this.className.split(/\s/);t.indexOf(i)>-1||(0===t.length&&(this.className=i),this.className+=" "+i)}):"Function"==t(i)?this.each(function(t){e(this).addClass(i.call(this,t,this.getAttribute("class")))}):void 0}},{key:"append",value:function(e){return"String"==t(e)?this.each(function(){this.innerHTML+=e}):e.nodeName?this.each(function(){var t=document.createElement(e.tagName);t.innerHTML=e.innerHTML,this.appendChild(t)}):void 0}},{key:"html",value:function(e){if(!e)return this.DOM[0].innerHTML;"String"==t(e)&&this.each(function(){this.innerHTML=e})}},{key:"attr",value:function(t,e){var i=this;return e?this.each(function(n){return i.DOM[n].setAttribute(t,e)}):this.DOM[0].getAttribute(t)}},{key:"children",value:function(t){return t?this.DOM[0].querySelectorAll(t):this.DOM[0].children}},{key:"css",value:function(e,i){return"String"==t(e)&&i?this.each(function(){this.style[e]=i.toString()}):"String"==t(e)?getComputedStyle(this.DOM[0])[e]:"Object"==t(e)?this.each(function(){for(var t in e)this.style[t]=e[t]}):void 0}},{key:"data",value:function(e,i){return"Object"==t(e)?this.each(function(){for(var t in e)this.dataset[t]=e[t]}):e&&i?this.each(function(){this.dataset[e]=i}):e?this.DOM[0].dataset[e]:this.DOM[0].dataset}},{key:"on",value:function(i,n,s){return"Function"==t(n)?this.each(function(){this.addEventListener(i,n)}):"String"==t(n)?(this.DOM[0].addEventListener(i,function(t){for(var i=arguments.length,a=Array(i>1?i-1:0),r=1;r<i;r++)a[r-1]=arguments[r];-1!=Array.from(e(n).DOM).indexOf(t.target)&&s.apply(void 0,a)}),this):void 0}},{key:"one",value:function(t,e){function i(){e.apply(void 0,arguments),n.DOM[0].removeEventListener(t,i)}var n=this;return this.DOM[0].addEventListener(t,i),this}},{key:"each",value:function(t){for(var e=0;e<this.DOM.length;e++)if(!1===t.call(this.DOM[e],e,this.DOM[e]))return!1;return this}}]),i}();return e}()},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(){function t(e){n(this,t);this.item=function(t){var e='<div class="video-info"><img src="'+t.thumbnail+'"></div><div class="info"><a href='+t.youtubeLink+' target="_blank"><p class="title">'+t.title+'</a></p><i class="fa fa-angle-down fa-2x place"></i><input type="checkbox"><div class="info-view"><p><i class="fa fa-user"></i>'+t.author+'</p><p><i class="fa fa-eye"></i>'+t.viewCount+'</p><p><i class="fa fa-thumbs-up"></i>'+t.likeCount+'<i class="fa fa-thumbs-down"></i>'+t.dislikeCount+'</p></div><p class="calendar-holder"><i class="fa fa-calendar calendar"></i>'+t.publishDate+'</p><div class="description">'+t.description+"</div></div>",i=document.createElement("div");return i.classList.add("item"),i.innerHTML=e,i}(e)}return s(t,null,[{key:"PageCreation",value:function(t){this.li=function(t){var e=document.createElement("li");return e.id=""+t,e.classList.add("non-active"),e.innerHTML='<div class="page-index"></div>',e.firstChild.innerHTML="<span>"+(t+1)+"</span>",e}(t)}}]),t}();t.exports=a},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),r=i(3),o=i(7),c=function(){function t(){n(this,t)}return s(t,null,[{key:"init",value:function(){function t(){var t=e.value,i=new r(n);i.initContainer();var n=new o(t,i);a("#msg-board").DOM[0].innerText="",n.searchRequest()}document.body.innerHTML+='<header class="header"><div class="wrap"><div class="logo"><h1> <span>Y</span>O<span>U</span>T<span>U</span>B<span>E</span><span></span><span></span></h1></div> <input type="text" placeholder="Search for videos in youtube" id="text-search"></header><div class="content-container"></div></div><div id="msg-board">You haven&#39;t searched for any video yet!</div><div id="progress-bar"></div><footer></footer>';var e=document.querySelector("#text-search");e.addEventListener("keypress",function(e){13===e.keyCode&&t()})}}]),t}();t.exports=c},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(1),r=i(6),o=i(5),c=i(0),u=function(){function t(){n(this,t),this.divContainer=document.querySelector(".content-container"),this.wrap=document.querySelector(".wrap"),this.firstVisibleItem=0,this.visibleItems=0,this.items=[],this.swipe=null,this.paging=null,this.search=null}return s(t,[{key:"addItem",value:function(t){var e=new a(t);this.divContainer.appendChild(e.item),this.items.push(e.item)}},{key:"blocksOnPageCount",value:function(){return this.visibleItems=Math.floor(window.innerWidth/320),0===this.visibleItems&&(this.visibleItems=1),this.visibleItems}},{key:"contentCreation",value:function(t){var e=this.items.length;for(e;e<t.length;e++){this.addItem(t[e])}c("#progress-bar").DOM[0].style.width="88%",this.defineWidth(),this.paging.initPaging()}},{key:"defineWidth",value:function(){var t=320*this.blocksOnPageCount();this.wrap.style.width=t+"px";var e=320*this.items.length;this.divContainer.style.width=e+"px"}},{key:"initContainer",value:function(){this.divContainer.innerHTML="",this.swipe=new r(this),this.swipe.initSwipe(),this.swipe.initTouch(),this.paging=new o(this),this.paging.initPaging(),window.addEventListener("resize",function(){this.update()}.bind(this))}},{key:"update",value:function(){this.defineWidth(),this.paging.initPaging()}}]),t}();t.exports=u},function(t,e,i){"use strict";i(2).init()},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(1),r=function(){function t(e){n(this,t),this.container=e,this.paging=null,this.pages=0,this.activePage=0,this.swipe=e.swipe,this.firstVisibleItem=e.firstVisibleItem}return s(t,[{key:"initPaging",value:function(){this.paging=this.paging||this.createPaging(),this.createPages()}},{key:"createPaging",value:function(){var t=document.querySelector("footer");t.innerHTML="";var e=document.createElement("div");return e.className="paging-container",e.innerHTML='<ul class="paging" id="paging"></ul>',t.appendChild(e),e.firstChild}},{key:"createPages",value:function(){var t=this.container.blocksOnPageCount();this.pages=Math.ceil(this.container.items.length/t),this.paging.innerHTML="";for(var e=0;e<this.pages;e++){var i=new a.PageCreation(e);i.li.innerHTML='<p class="tooltip">'+e+"</p>",i.li.addEventListener("click",function(t){var e=t.target;this.activePage=e.getAttribute("id"),this.firstVisibleItem=this.swipe.move(this.activePage),this.showActivePage()}.bind(this)),this.paging.appendChild(i.li)}this.showActivePage()}},{key:"showActivePage",value:function(){this.findActivePage();for(var t=0;t<this.pages;t++)t==this.activePage?this.paging.children[t].classList.contains("active")||(this.paging.children[t].classList.remove("non-active"),this.paging.children[t].classList.add("active")):this.paging.children[t].classList.contains("active")&&(this.paging.children[t].classList.remove("active"),this.paging.children[t].classList.add("non-active"))}},{key:"updateActivePage",value:function(t){this.firstVisibleItem=t,this.showActivePage()}},{key:"findActivePage",value:function(){var t=this.paging.children.length,e=this.container.blocksOnPageCount(),i=Math.ceil(this.firstVisibleItem/e);t===i&&(i-=1),this.activePage=i}}]),t}();t.exports=r},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(){function t(e){n(this,t),this.container=e,this.divContainer=e.divContainer,this.wrap=e.wrap,this.items=e.items,this.firstVisibleItem=e.firstVisibleItem,this.defaultSwipeWidth=160}return s(t,[{key:"initSwipe",value:function(){this.divContainer.onmousedown=function(t){t.preventDefault();var e=t.pageX;document.onmousemove=function(t){t.preventDefault(),t.pageX-e>this.defaultSwipeWidth?this.swipe("left"):e-t.pageX>this.defaultSwipeWidth?this.swipe("right"):this.drag(e-t.pageX)}.bind(this),document.onmouseup=function(t){Math.abs(e-t.pageX)<this.defaultSwipeWidth&&this.swipe("stay"),document.onmousemove=null}.bind(this)}.bind(this)}},{key:"initTouch",value:function(){var t=0;this.divContainer.addEventListener("touchstart",function(e){e=e.changedTouches[0],t=e.pageX}.bind(this)),this.divContainer.addEventListener("touchend",function(e){e=e.changedTouches[0],e.pageX-t>50?(this.drag(-(e.pageX-t)),this.swipe("left")):t-e.pageX>50&&this.swipe("right")}.bind(this))}},{key:"drag",value:function(t){var e=this.container.paging.activePage,i=-e*parseInt(this.wrap.style.width);this.divContainer.style.webkitTransform="translateX("+(i-t)+"px)",this.divContainer.style.transform="translateX("+(i-t)+"px)"}},{key:"swipe",value:function(t){var e,i=this.container.paging.activePage;if("right"===t){var n=this.container.blocksOnPageCount();this.firstVisibleItem+n+1>this.container.items.length?(this.container.search.searchRequest(),e=this.move(i+1),document.onmousemove=null,document.ontouchmove=null,this.container.paging.updateActivePage(e)):e=this.move(i+1)}else e="left"===t?0===i?this.move(i):this.move(i-1):this.move(i);document.onmousemove=null,document.ontouchmove=null,this.container.paging.updateActivePage(e)}},{key:"move",value:function(t){this.firstVisibleItem=t*this.container.blocksOnPageCount();var e=-t*parseInt(this.wrap.style.width);return this.divContainer.style.transition="all .5s",this.divContainer.style.webkitTransform="translateX("+e+"px)",this.divContainer.style.transform="translateX("+e+"px)",setTimeout(function(){this.divContainer.style.transition=""}.bind(this),500),this.firstVisibleItem}}]),t}();t.exports=a},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),r=function(){function t(e,i){n(this,t),this.MAX_RESULTS=15,this.searchStr=e,this.nextPage="",this.videoList=[],this.videoId=[],this.container=i,this.order="relevance",i.search=this}return s(t,[{key:"searchRequest",value:function(){a("#progress-bar").DOM[0].style.width="1%";var t="https://www.googleapis.com/youtube/v3/search?part=snippet&q="+this.searchStr;this.nextPage&&(t=t+"&type=video&pageToken="+this.nextPage),t=t+"&type=video&order="+this.order+"&maxResults="+this.MAX_RESULTS+"&key=AIzaSyBLhjGs-fTY64swcHFsyQgxcpWj4r3-zDA",fetch(t,{method:"GET"}).then(function(t){if(t.ok)return t.json();a("#msg-board").DOM[0].innerHTML="<h2> ERROR:"+t.ok+"<h2>"}).then(function(t){if(0==t.items.length)a("#msg-board").DOM[0].innerHTML="<h2>"+this.searchStr+" not found.</h2>";else{a("#progress-bar").DOM[0].style.width="25%",this.videoId=[],this.nextPage=t.nextPageToken;var e=this.videoList.length;for(this.parseYoutubeResponse(t),a("#progress-bar").DOM[0].style.width="35%",e;e<this.videoList.length;e++)this.videoId.push(this.videoList[e].id);this.loadStatistics(this.videoId),a("#progress-bar").DOM[0].style.width="55%",a("#msg-board").DOM[0].innerText=""}}.bind(this)).catch(function(t){a("#msg-board").DOM[0].innerHTML="<h2>NETWORK ERROR:"+t.message+"<h2>"})}},{key:"loadStatistics",value:function(t){var e=t.join(","),i="https://www.googleapis.com/youtube/v3/videos?part=statistics&id="+e+"&maxResults=1&key=AIzaSyBLhjGs-fTY64swcHFsyQgxcpWj4r3-zDA";fetch(i,{method:"GET"}).then(function(t){if(t.ok)return t.json();a("#msg-board").DOM[0].innerHTML="<h2>ERROR:"+t.ok+"<h2>"}).then(function(t){0==t.items.length?a("#msg-board").DOM[0].innerHTML="<h2>No result for"+this.searchStr+"<h2>":(this.parseStatistics(t),a("#progress-bar").DOM[0].style.width="75%",this.container.contentCreation(this.videoList),a("#progress-bar").DOM[0].style.width="100%",setTimeout(function(){return a("#progress-bar").DOM[0].style.transition="0s"},300),setTimeout(function(){a("#progress-bar").DOM[0].style.width="0",setTimeout(function(){return a("#progress-bar").DOM[0].style.transition="0.9s"},300)},1111))}.bind(this)).catch(function(t){a("#msg-board").DOM[0].innerHTML="<h2>NETWORK ERROR:"+t.message+"<h2>"})}},{key:"parseYoutubeResponse",value:function(t){var e=t.items;if(e.length)for(var i=0;i<e.length;i++){var n=e[i],s=new Date(Date.parse(n.snippet.publishedAt));this.videoList.push({id:n.id.videoId,youtubeLink:"http://www.youtube.com/watch?v="+n.id.videoId,title:n.snippet.title,thumbnail:n.snippet.thumbnails.high.url,description:n.snippet.description,author:n.snippet.channelTitle,publishDate:s.getDate()+"."+(1+s.getMonth())+"."+s.getFullYear(),viewCount:"",likeCount:"",dislikeCount:""})}else a("#msg-board").DOM[0].innerHTML="<h2>BAD REUQEST </h2>"}},{key:"parseStatistics",value:function(t){var e=t.items;if(e.length)for(var i=0;i<e.length;i++){var n=e[i];this.videoList[i].viewCount=n.statistics.viewCount,this.videoList[i].likeCount=n.statistics.likeCount,this.videoList[i].dislikeCount=n.statistics.dislikeCount}else a("#msg-board").DOM[0].innerHTML="<h2>BAD REQUEST</h2>"}}]),t}();t.exports=r}]);